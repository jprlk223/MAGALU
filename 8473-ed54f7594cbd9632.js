"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8473],{85149:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(86522),o=n(7896),i=n(34795),a=n(76854),u=n(2784),c=n(84546),l=n(63825),s=n(52337),d=n(57991),h=n(2334),p=n(87333),f=n(76613),v=n(26334),g=n(66176),m=function(t){var e=t.structure,n=(0,u.useState)(""),r=(0,a.Z)(n,2),o=r[0],i=r[1],c=(0,p.Np)(),l=c.subscribe,s=c.unsubscribe,d=function(t){var e={conventional:"Receba",store_pickup:"Retire"}[t.type]||"";return!!e&&(i("".concat(e," este produto ainda hoje")),!0)},h=function(t){var e,n=t.deliveries;null==n||null==(e=n[0])||e.modalities.filter(function(t){var e;return(null==t?void 0:null==(e=t.shippingTime)?void 0:e.unit)==="hours"}).some(function(t){return d(t)})},f=function(){i("")};return((0,u.useEffect)(function(){return l("product:shipping:haschanged",h),l("product:shipping:click",h),l("product:shipping:error",f),function(){s("product:shipping:haschanged",h),s("product:shipping:click",h),s("product:shipping:error",f)}}),(0,u.useEffect)(function(){return function(){f()}},[JSON.stringify(e)]),o)?u.createElement(g.default,{static:{fontWeight:"medium",intent:"success",message:[{icon:"DeliveryRTomorrow",text:o}]}}):null};function y(){y=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(d){s=function(t,e,n){return t[e]=n}}function h(e,n,r,o){var a,u,c,l,s=Object.create((n&&n.prototype instanceof w?n:w).prototype);return i(s,"_invoke",{value:(a=e,u=r,c=new P(o||[]),l=f,function(e,n){if(l===v)throw Error("Generator is already running");if(l===g){if("throw"===e)throw n;return{value:t,done:!0}}for(c.method=e,c.arg=n;;){var r=c.delegate;if(r){var o=S(r,c);if(o){if(o===m)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===f)throw l=g,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);l=v;var i=p(a,u,c);if("normal"===i.type){if(l=c.done?g:"suspendedYield",i.arg===m)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(l=g,c.method="throw",c.arg=i.arg)}})}),s}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=h;var f="suspendedStart",v="executing",g="completed",m={};function w(){}function b(){}function x(){}var E={};s(E,u,function(){return this});var I=Object.getPrototypeOf,C=I&&I(I(D([])));C&&C!==n&&o.call(C,u)&&(E=C);var L=x.prototype=w.prototype=Object.create(E);function k(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function Z(t,e){var n;i(this,"_invoke",{value:function(i,a){function u(){return new e(function(n,u){!function n(i,a,u,c){var l=p(t[i],t,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==(0,r.Z)(d)&&o.call(d,"__await")?e.resolve(d.__await).then(function(t){n("next",t,u,c)},function(t){n("throw",t,u,c)}):e.resolve(d).then(function(t){s.value=t,u(s)},function(t){return n("throw",t,u,c)})}c(l.arg)}(i,a,n,u)})}return n=n?n.then(u,u):u()}})}function S(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw TypeError((0,r.Z)(e)+" is not iterable")}return b.prototype=x,i(L,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:b,configurable:!0}),b.displayName=s(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,s(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},k(Z.prototype),s(Z.prototype,c,function(){return this}),e.AsyncIterator=Z,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new Z(h(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(L),s(L,l,"Generator"),s(L,u,function(){return this}),s(L,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}m.defaultProps={structure:{}};var w=function(t){var e,n=t.static,r=t.structure,g=t.data,w=t.layout,b=t.config,x=(0,u.useRef)(!1),E=g.product,I=((null==E?void 0:E.price)||{}).currency,C=r.cookies.location,L=b.publicRuntimeConfig,k=n.toggleAutoShipping,Z=void 0===k?"AUTO":k,S=n.mappedErrors,O=void 0===S?{}:S,_=n.showAlert,P=v._G.button,D=(0,p.Np)(),z=D.publish,j=D.subscribe,T=D.unsubscribe,N=(0,u.useState)([]),A=(0,a.Z)(N,2),R=A[0],G=A[1],M=(0,u.useState)([]),B=(0,a.Z)(M,2),F=B[0],V=B[1],U=(0,u.useState)(null),J=(0,a.Z)(U,2),W=J[0],Y=J[1],H=(0,u.useState)(C),$=(0,a.Z)(H,2),q=$[0],Q=$[1];(0,u.useEffect)(function(){Q(C)},[JSON.stringify(C)]);var X,K=(0,f.useShipping)().getShipping,tt=(0,u.useCallback)((X=(0,i.Z)(y().mark(function t(e,n){var i,a,u,c,l,s,d,h,p,f,g,m,w,b;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Y(null),t.next=3,K((0,v.b0)({customZipCode:n,product:E,structure:r}),{timeout:null==L?void 0:null==(i=L.shipping)?void 0:i.timeout});case 3:return u=(a=t.sent).error,l=void 0===(c=a.exceptionDeliveriesId)?null:c,d=(s=a.data).deliveries,h=s.shippings,p=s.disclaimers,f=a.message,g=a.status,m=a.errorCode,z("product:details",{deliveries:d,product:E,shippingError:u,structure:r}),V(p||[]),u?"INTERNAL_SERVER_ERROR"!==m&&z("product:shipping",{deliveries:d,error:u,errorMessageServer:null,errorMessageUser:f,exceptionDeliveriesId:l,status:g,zipCode:null==C?void 0:C.zipCode}):null==e||e(d,u,m,l,f,g),m&&!l&&z("shipping:response:error",{value:{deliveriesId:null,error:u,errorCode:m,pageId:r.id,productId:E.id,zipCode:n||(null==C?void 0:C.zipCode)}}),w=null==d?void 0:d[0],z("shippmment:finished",(0,o.Z)({},w,{product:E})),b="function"==typeof e,t.abrupt("return",(0,v.bo)({deliveries:d,error:O[u]||u,exceptionDeliveriesId:l,isClickedCalculateShipping:b,message:f,product:E,publish:z,setDeliveryTypes:G,setErrorMessage:Y,shippings:h,status:g,zipcode:n||(null==C?void 0:C.zipCode)}));case 22:case"end":return t.stop()}},t)})),function(t,e){return X.apply(this,arguments)}),[null==C?void 0:C.zipCode,null==E?void 0:E.variationId]),te=function(t){Q(t),tt(null,t.zipCode)};(0,u.useEffect)(function(){return j("zipcode:auto",te),function(){T("zipcode:auto",te)}},[]);var tn=function(t){"MANUAL"!==Z&&(null==C?void 0:C.zipCode)&&(null==E?void 0:E.variationId)&&tt(t)},tr=function(t,e,n,r,o,i){z("product:shipping",{deliveries:t,error:e,errorMessageServer:n,errorMessageUser:o,exceptionDeliveriesId:r,status:i,zipCode:null==C?void 0:C.zipCode})};(0,u.useEffect)(function(){(null==C?void 0:C.zipCode)||z("product:details",{product:E,structure:r}),x.current&&tn()},[null==E?void 0:E.variationId]),(0,u.useEffect)(function(){return tn(x.current?tr:void 0),x.current=!0,function(){G([]),Y(null)}},[JSON.stringify(null==r?void 0:null==(e=r.cookies)?void 0:e.location)]);var to=function(){(null==q?void 0:q.zipCode)&&R.length||!(null==q?void 0:q.zipCode)||W?z("zipcodeinput:toggle"):tt(tr)},ti=R.map(function(t){return t.time}).filter(function(t){return"number"==typeof t}).toString();return u.createElement(c.Z,(0,o.Z)({p:"0 16px","data-testid":"shipping"},w),u.createElement(d.Z,(0,o.Z)({location:(null==q?void 0:q.zipCode)&&q,onClick:to,done:!!(null==R?void 0:R.length)||!!W,loading:!1},P,{mb:3})),void 0!==_&&_&&u.createElement(m,{structure:r}),u.createElement(h.Z,{"data-times":ti,items:R,currency:I}),W&&u.createElement(s.Z,{message:W,intent:"danger"}),F.map(function(t){var e=t.message,n=t.sequence;return u.createElement(l.Z,{mb:2,fontSize:0,color:"scratched",key:n},e)}))};w.defaultProps={config:{},data:{},layout:{},static:{},structure:{cookies:{}}};var b=w},22011:function(t,e,n){n.d(e,{Z:function(){return F}});var r,o,i,a,u,c,l,s,d,h,p,f,v,g,m,y,w=n(76854),b=n(2784),x=n(34490),E=n(89382),I=n(15138),C=n(71171),L=n(99673),k=n(60861),Z=n(55403),S=L.ZP.div(r||(r=(0,C.Z)(["\n  position: absolute;\n  right: -390px;\n  top: 145px;\n  transition: all 0.3s ease-out;\n  z-index: 2;\n\n  ","\n\n  ","\n\n  ","\n"])),function(t){return"mobile"===t.device&&(0,L.iv)(o||(o=(0,C.Z)(["\n      right: 0;\n    "])))},function(t){return"desktop"===t.device&&(0,L.iv)(i||(i=(0,C.Z)(["\n      top: auto;\n    "])))},function(t){var e=t.active,n=t.device;return e&&"desktop"===n&&(0,L.iv)(a||(a=(0,C.Z)(["\n      right: 0;\n      transition: all 0.3s ease-in;\n      box-shadow: 0px 4px 12px 0px rgba(0, 0, 0, 0.25);\n    "])))}),O=L.ZP.div(u||(u=(0,C.Z)(["\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  height: 100%;\n  transition: all 0.3s ease-out;\n  width: 100%;\n\n  ","\n\n  ","\n"])),function(t){return t.active&&(0,L.iv)(c||(c=(0,C.Z)(["\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      right: 0;\n      top: 0;\n      transition: all 0.3s ease-in;\n      z-index: 1;\n    "])))},function(t){return"desktop"===t.device&&(0,L.iv)(l||(l=(0,C.Z)(["\n      display: none;\n    "])))}),_=(0,L.ZP)(k.Z)(s||(s=(0,C.Z)(["\n  border-radius: 0;\n  font-size: ","px;\n  max-width: 40px;\n  height: 56px;\n  min-width: 0;\n  position: absolute;\n\n  ","\n\n  ","\n"])),function(t){return(0,Z.R)("fontSizes.0")(t)},function(t){return"mobile"===t.device&&(0,L.iv)(d||(d=(0,C.Z)(["\n      border-bottom-left-radius: 4px;\n      border-top-left-radius: 4px;\n      right: 0;\n    "])))},function(t){return"desktop"===t.device&&(0,L.iv)(h||(h=(0,C.Z)(["\n      border-bottom-left-radius: 8px;\n      border-top-left-radius: 8px;\n      left: -40px;\n    "])))}),P=n(19527),D=n(84546),z=n(70715),j=n(63825),T=n(12241),N=L.ZP.div(p||(p=(0,C.Z)(["\n  display: grid;\n  grid-template-columns: auto auto;\n\n  & label {\n    padding-top: 0;\n  }\n"]))),A=L.ZP.div(f||(f=(0,C.Z)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  width: 100%;\n"]))),R=L.ZP.div(v||(v=(0,C.Z)(["\n  align-items: center;\n  background-color: ",";\n  display: flex;\n  height: 285px;\n  padding: 16px;\n  transition: all 0.3s ease-out;\n\n  ","\n\n  ","\n\n  ","\n"])),function(t){return(0,Z.R)("palette.background.white")(t)},function(t){return"mobile"===t.device&&(0,L.iv)(g||(g=(0,C.Z)(["\n      border-top-left-radius: 32px;\n      border-top-right-radius: 32px;\n      bottom: -285px;\n      left: 0;\n      position: fixed;\n      right: 0;\n      width: 100%;\n    "])))},function(t){return"desktop"===t.device&&(0,L.iv)(m||(m=(0,C.Z)(["\n      width: 390px;\n      height: 226px;\n      padding: 24px;\n    "])))},function(t){return t.active&&(0,L.iv)(y||(y=(0,C.Z)(["\n      z-index: 2;\n      bottom: 0;\n      transition: all 0.3s ease-in;\n    "])))}),G=function(t){var e=t.active,n=t.device,r=t.hasError,o=t.loading,i=t.urlToCopy,a=t.urlType,u=t.onChangeRadio;return b.createElement(R,{active:e,device:n},b.createElement(P.Z,{flexDirection:"column",width:["100%"]},r&&b.createElement(D.Z,null,b.createElement(j.Z,{as:"h2",fontSize:2,lineHeight:1.5,fontWeight:"bold",mb:4,mt:2,textAlign:"center"},"Indisponivel temporariamente..."),b.createElement(j.Z,{fontSize:1,lineHeight:1.25,fontWeight:"normal",mb:2,mt:2},"Estamos trabalhando para normalizar o mais breve poss\xedvel. Por favor, tente novamente em instantes.")),o?b.createElement(A,{"data-testid":"loading-content"},b.createElement(x.JO$,{name:"AnimatedLoading3",color:"primary.base",height:40,width:40})):!r&&b.createElement(D.Z,null,b.createElement(j.Z,{as:"h2",fontSize:2,lineHeight:1.5,fontWeight:"bold",mb:4,mt:2,textAlign:"mobile"===n?"center":"left"},"Encurtador de link"),b.createElement(j.Z,{fontSize:1,lineHeight:1.25,fontWeight:"normal",mb:2,mt:2},"Copie o link e compartilhe os produtos desta p\xe1gina"),b.createElement(D.Z,{mb:3},b.createElement(T.Z,{value:i,style:{backgroundColor:"#ececec",cursor:"default"}})),b.createElement(N,null,b.createElement(z.Z,{label:"Link curto",value:"shorten",checked:"shorten"===a,onChange:u}),b.createElement(z.Z,{label:"Link completo",value:"full",checked:"full"===a,onChange:u})))))};G.defaultProps={active:!1,device:"mobile",hasError:!1,loading:!1,onChangeRadio:null,urlToCopy:"",urlType:"full"};var M=function(t,e){(0,b.useEffect)(function(){return"desktop"===t&&(document.body.style.overflowX="hidden"),"mobile"===t&&e&&(document.body.style.overflow="hidden"),function(){document.body.style.overflowX="visible",document.body.style.overflow="visible"}},[e])},B=function(t){var e=t.static.device,n=window.location.href,r=(0,b.useState)(!1),o=(0,w.Z)(r,2),i=o[0],a=o[1],u=(0,b.useState)(n),c=(0,w.Z)(u,2),l=c[0],s=c[1],d=(0,b.useState)("full"),h=(0,w.Z)(d,2),p=h[0],f=h[1],v=(0,I.Z)("shortenlink-magaly",{link:n}),g=v.shortLink,m=v.handleShortenLink,y=v.hasError,E=v.isLoading,C=function(t){f(t.target.value)},L=function(){s(n),f("full"),window.sessionStorage.setItem("shorten_search_magaly",null)};return M(e,i),(0,b.useEffect)(function(){return window.location.href&&L()},[window.location.href]),(0,b.useEffect)(function(){var t=window.sessionStorage.getItem("shorten_search_magaly");t&&"null"!==t&&"undefined"!==t||"shorten"!==p||m(),"shorten"===p?s(g):s(n)},[p]),(0,b.useEffect)(function(){g&&(sessionStorage.setItem("shorten_search_magaly",g),s(g))},[g]),b.createElement(S,{"data-testid":"shorten-widget",active:i,device:e},b.createElement(_,{"aria-label":"Encurtar link",device:e,"data-testid":"shorten-widget-button",onClick:function(){return a(function(t){return!t})}},b.createElement(x.JO$,{name:"Link"})),b.createElement(G,{active:i,device:e,hasError:y,loading:E,urlToCopy:l,urlType:p,onChangeRadio:C}),b.createElement(O,{device:e,active:i,"data-testid":"shorten-widget-overlay",onClick:function(){return a(!1)}}))};B.defaultProps={static:{device:"mobile"}},B.ssr=!1,B.displayName="ShortenWidget";var F=(0,E.Z)(B)},64395:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var r=n(7896),o=n(2784),i=n(94843),a=n(76613),u=n(6422),c=n(89382),l=n(76854),s=n(25237),d=n.n(s),h=n(13980),p=n(75335),f=n(87333),v=n(86522),g=n(34795),m=n(26334);function y(){y=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(s){l=function(t,e,n){return t[e]=n}}function d(e,n,r,i){var a,u,c,l,s=Object.create((n&&n.prototype instanceof w?n:w).prototype);return o(s,"_invoke",{value:(a=e,u=r,c=new P(i||[]),l=p,function(e,n){if(l===f)throw Error("Generator is already running");if(l===g){if("throw"===e)throw n;return{value:t,done:!0}}for(c.method=e,c.arg=n;;){var r=c.delegate;if(r){var o=S(r,c);if(o){if(o===m)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===p)throw l=g,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);l=f;var i=h(a,u,c);if("normal"===i.type){if(l=c.done?g:"suspendedYield",i.arg===m)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(l=g,c.method="throw",c.arg=i.arg)}})}),s}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=d;var p="suspendedStart",f="executing",g="completed",m={};function w(){}function b(){}function x(){}var E={};l(E,a,function(){return this});var I=Object.getPrototypeOf,C=I&&I(I(D([])));C&&C!==n&&r.call(C,a)&&(E=C);var L=x.prototype=w.prototype=Object.create(E);function k(t){["next","throw","return"].forEach(function(e){l(t,e,function(t){return this._invoke(e,t)})})}function Z(t,e){var n;o(this,"_invoke",{value:function(o,i){function a(){return new e(function(n,a){!function n(o,i,a,u){var c=h(t[o],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==(0,v.Z)(s)&&r.call(s,"__await")?e.resolve(s.__await).then(function(t){n("next",t,a,u)},function(t){n("throw",t,a,u)}):e.resolve(s).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,u)})}u(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}})}function S(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw TypeError((0,v.Z)(e)+" is not iterable")}return b.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,c,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},k(Z.prototype),l(Z.prototype,u,function(){return this}),e.AsyncIterator=Z,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new Z(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(L),l(L,c,"Generator"),l(L,a,function(){return this}),l(L,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return u.type="throw",u.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}var w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.inCashDescription;return null==t?void 0:t.map(function(t,e){var o,i;return(0,r.Z)({},t,{attributes:[],available:!0,position:e+1,price:(0,r.Z)({},t.price,{paymentMethodDescription:n||(null==t?void 0:null==(o=t.price)?void 0:o.paymentMethodDescription)}),tagCoupon:(0,u.jF)(null==t?void 0:null==(i=t.seller)?void 0:i.tags),trackingUrl:t.url,url:(0,u.cP)(null==t?void 0:t.path)})})},b=function(t){var e=t.cartInfo,n=t.extensions,o=t.id,i=t.pageId,a=t.placeId,c=t.position,l=t.spa,s=t.structure,d=t.title,h=t.type;return function(t){var p,f,v,w=t.addToCart,b=t.setShowSidebar,x=t.publish,E=u.VD.ML2_SID,I={display:"rank"===h?"list":"gallery",filters:null==s?void 0:null==(p=s.route)?void 0:p.filters,list:d,listPosition:c,origin:"bob",showcase:{id:o,pageId:i,placeId:a,title:d,type:h},type:"recomendacao"},C=(f=(0,g.Z)(y().mark(function t(r){var o,i,a,c,l,d,h,p,f;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.cartUrl,c=e.location,l=e.partnerId,d=(0,u.ej)(E),t.next=4,w({extensions:n,id:d,partnerId:l,productId:(null==r?void 0:r.variationId)||(null==r?void 0:r.id),quantity:"".concat(null==r?void 0:r.minimumOrderQuantity),sellerId:null==r?void 0:null==(o=r.seller)?void 0:o.id});case 4:p=(h=t.sent).data,f=h.error,(0,m.lQ)(u._V,x)({cartInfo:{cartId:null==p?void 0:p.cartId,cartUrl:a},channel:(null==s?void 0:null==(i=s.config)?void 0:i.salesChannelId)||"",error:f,location:c,product:r,typeButton:m.$1});case 8:case"end":return t.stop()}},t)})),function(t){return f.apply(this,arguments)}),L=function(t){var e,n,o;x("product:view",(0,r.Z)({},I,{listPosition:((null==t?void 0:t.index)||0)+1,product:t})),x("product:viewItemList",(0,r.Z)({customer_id:null==s?void 0:null==(e=s.cookies)?void 0:null==(n=e.accountData)?void 0:n.customer_id,pageName:null==s?void 0:s.name,term:null==s?void 0:null==(o=s.route)?void 0:o.term},I,t))},k=(v=(0,g.Z)(y().mark(function t(e,n){var o,i,a;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("button"!==h){t.next=4;break}return t.next=3,C(n);case 3:return t.abrupt("return");case 4:x("productlist:selectItem:click",(0,r.Z)({customer_id:null==s?void 0:null==(o=s.cookies)?void 0:null==(i=o.accountData)?void 0:i.customer_id,pageName:null==s?void 0:s.name,term:null==s?void 0:null==(a=s.route)?void 0:a.term},I,n)),x("productlist:click",(0,r.Z)({},I,n,{listPosition:((null==n?void 0:n.index)||0)+1})),l&&(e.preventDefault(),(0,u.dY)({path:null==n?void 0:n.url,spa:l}));case 7:case"end":return t.stop()}},t)})),function(t,e){return v.apply(this,arguments)}),Z=function(){b(!0),x("product:showcaseSelectContent",(0,r.Z)({pageName:null==s?void 0:s.name},I)),x("productlist:showFullList",{eventLabel:d})};return{eventData:I,handleClick:k,handleOnLoadMore:Z,handleProductView:L}}},x=n(97704),E=n(34490),I=n(87043),C=function(t){var e=t.showcaseId,n=t.loading,r=t.onLoadMore,i=t.pagination,a=(null==i?void 0:i.next)%4==0,u=(0,x.YD)({skip:a}),c=(0,l.Z)(u,2),s=c[0],d=c[1];return(0,o.useEffect)(function(){d&&(null==i?void 0:i.next)&&r(e,i)},[d]),o.createElement(I.kC,{ref:s,justifyContent:"center",mt:15,mb:15},n?o.createElement(E.JO$,{name:"AnimatedLoading2",width:32,height:32}):a?o.createElement(I.zx,{color:"primary",variation:"fill",onClick:function(){return r(e,i)}},"CARREGAR MAIS PRODUTOS"):null)};C.defaultProps={loading:!1};var L=d()(function(){return n.e(3386).then(n.bind(n,73386))}),k={bg:"primary"},Z=function(t){var e,n=(0,o.useState)(!1),i=(0,l.Z)(n,2),u=i[0],c=i[1],s=(0,f.Np)().publish,d=t.carouselConfig,h=t.customerId,v=t.disableSidebar,g=t.id,m=t.inCashDescription,y=t.jsonLD,x=t.loading,E=t.onLoadMore,I=t.pageId,Z=t.pagination,S=t.placeId,O=t.position,_=t.productId,P=t.categories,D=t.subCategories,z=t.products,j=void 0===z?[]:z,T=t.productTitleAs,N=t.showButton,A=t.showDiscount,R=t.showDiscountOnlyCashInfo,G=t.showInCashInfo,M=t.structure,B=t.slidesPerViewBetterOffer,F=t.title,V=t.titleAs,U=t.titleSize,J=t.type,W=t.variant,Y=(0,a.useCart)(),H=(0,l.Z)(Y,1)[0].addToCart,$=((null==M?void 0:M.route)||{}).storeId,q=(null==M?void 0:null==(e=M.theme)?void 0:e.name)==="magazineluiza-bf"?k:void 0,Q=w(j,{inCashDescription:m},M),X="endless"===J,K=b(t)({addToCart:H,publish:s,setShowSidebar:c}),tt=K.eventData,te=K.handleClick,tn=K.handleOnLoadMore,tr=K.handleProductView;return(0,o.useEffect)(function(){(null==Q?void 0:Q.length)&&s("productlist:impression",(0,r.Z)({},tt,{products:Q}))},[j]),o.createElement(o.Fragment,null,!!(null==Q?void 0:Q.length)&&o.createElement(p.Z,(0,r.Z)({key:"showcase-".concat(O),exhibition:W,data:(0,r.Z)({},t,{products:Q}),onClick:te,onProductView:tr,slidesPerViewBetterOffer:B,jsonLD:y,titleAs:V,titleSize:U,productTitleAs:T,onClickLoadMore:function(){return tn()},showButton:N,showFullListBtn:Boolean(null==Z?void 0:Z.next)&&!v,showInCashInfo:G,showDiscount:A,showDiscountOnlyCashInfo:R,offerTimerProps:q},d)),!X&&Boolean(null==Z?void 0:Z.next)&&!v&&o.createElement(L,{showcaseId:g,customerId:h,pageId:I,placeId:S,visible:u,storeId:$,title:F,type:W,categories:P,subCategories:D,productId:_,showInCashInfo:G,showDiscount:A,showDiscountOnlyCashInfo:R,onCloseSidebar:function(){return c(!1)},structure:M,showcaseProps:{offerTimerProps:q}}),X&&!!(null==Z?void 0:Z.next)&&E&&o.createElement(C,{showcaseId:g,loading:x,onLoadMore:E,pagination:Z}))};Z.defaultProps={carouselConfig:{},cartInfo:{},categories:void 0,customerId:"",designTokenId:"",disableSidebar:!1,extensions:void 0,id:"",inCashDescription:void 0,jsonLD:!1,loading:!1,onLoadMore:void 0,pageId:"",pagination:{},placeId:"",position:0,productId:"",products:[],productTitleAs:"",showButton:!1,showDiscount:!1,showDiscountOnlyCashInfo:!1,showFullListBtn:!0,showInCashInfo:!1,slidesPerViewBetterOffer:h.number,spa:!1,structure:{},subCategories:void 0,title:"",titleAs:"",titleSize:void 0,type:"",variant:""},Z.displayName="ShowcaseItem";var S=(0,c.Z)(Z),O=function(t){var e,n=t.structure,c=t.static,l=t.config,s=i.g.getActiveSpan(),d=c.page,h=c.placement,p=c.productId,f=c.carouselConfig,v=c.disableSidebar,g=c.jsonLD,m=void 0===g||g,y=c.titleAs,w=void 0===y?"h2":y,b=c.titleSize,x=c.pagination,E=c.productTitleAs,I=void 0===E?"h3":E,C=c.spa,L=void 0!==C&&C,k=c.showFullListBtn,Z=c.categories,O=c.subCategories,_=c.sellers,P=c.layoutChildren,D=void 0===P?{}:P,z=c.type,j=c.showDiscount,T=void 0!==j&&j,N=c.showDiscountOnlyCashInfo,A=void 0!==N&&N,R=c.showInCashLabel,G=void 0!==R&&R,M=c.inCashDescription,B=c.slidesPerViewBetterOffer,F=c.showButton,V=n.config,U=(void 0===V?{}:V).cartUrl,J=(n.route||{}).storeId,W=(0,u.fP)(),Y=W.partnerId,H=W.cartId,$=W.location,q=W.customerId,Q=void 0===q?"0":q,X=W.trackId,K=l.publicRuntimeConfig,tt=null==K?void 0:null==(e=K.recommendation)?void 0:e.timeout,te=(0,a.useShowcase)({categories:Z,customerId:Q,includePagination:x||k,options:{timeout:tt},pageId:d,partnerId:Y,placeId:h,productId:p,sellers:_,storeId:J,subCategories:O,trackId:X,zipCode:null==$?void 0:$.zipCode}),tn=te.recommendation,tr=te.getData,to=te.loading;(!(null==tn?void 0:tn.length)||(null==tn?void 0:tn.every(function(t){var e;return Boolean(null==t?void 0:null==(e=t.products)?void 0:e.length)})))&&(null==s||s.addEvent("mixer.showcase.empty",{"log.message":"{ customerId: ".concat(Q,", pageId: ").concat(d,", partnerId: ").concat(Y,", placement: ").concat(h,", trackId: ").concat(X,"}"),"log.severity":"info"}));var ti={"showcase.betteroffer":"betteroffer","showcase.button":"button","showcase.carousel":"carousel","showcase.endless":"list","showcase.highlight":"highlight","showcase.list":"list","showcase.rank":"rank"},ta=function(t){var e;return null!==(e=ti[t])&&void 0!==e?e:"list"},tu=function(t,e){tr({categories:Z,cursor:e.cursor,customerId:Q,fetchPolicy:"no-cache",includePagination:!0,merged:!0,options:{timeout:tt},page:e.next,pageId:d,partnerId:Y,placeId:h,productId:p,sellers:_,showcaseId:t,storeId:J,subCategories:O,trackId:X,zipCode:null==$?void 0:$.zipCode})};return!!(null==tn?void 0:tn.length)&&tn.map(function(t,e){return o.createElement(S,(0,r.Z)({carouselConfig:f,key:"showcase-".concat(d,"-").concat(h,"-").concat(e+1),disableSidebar:v,position:e+1,pageId:d,placeId:h,jsonLD:m,titleAs:w,titleSize:b,productTitleAs:I,layout:D,cartInfo:{cartId:H,cartUrl:U,location:$,partnerId:Y},customerId:Q,productId:p,categories:Z,subCategories:O,slidesPerViewBetterOffer:B,showButton:F},t,{spa:L,structure:n,showInCashInfo:G,showDiscount:T,showDiscountOnlyCashInfo:A,inCashDescription:M,loading:to,onLoadMore:tu,variant:z||ta(null==t?void 0:t.designTokenId)}))})};O.defaultProps={static:{}},O.ssr=!1,O.displayName="Showcase",O.dataSource={showcase:{query:"ShowcaseQuery"}};var _=(0,c.Z)(O)}}]);
//# sourceMappingURL=8473-ed54f7594cbd9632.js.map