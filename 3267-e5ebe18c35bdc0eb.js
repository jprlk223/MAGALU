"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3267],{33267:function(t,r,e){e.d(r,{kx:function(){return td},A6:function(){return tg},ms:function(){return l},jD:function(){return y},MD:function(){return w},h2:function(){return F},Xz:function(){return G},vQ:function(){return tl},Ae:function(){return tx},mv:function(){return te},PZ:function(){return N},CJ:function(){return j},bX:function(){return ta},XC:function(){return tE},G3:function(){return tw},BD:function(){return tf.Z},iG:function(){return A.Z},TH:function(){return C.Z},uq:function(){return M.Z},Nh:function(){return z.Z},uU:function(){return R.Z},x8:function(){return tu.Z},H8:function(){return tc.Z},k5:function(){return Y.Z},T7:function(){return q.Z},yF:function(){return U.Z},rv:function(){return D.Z},Jq:function(){return D.J},jO:function(){return K.Z},bv:function(){return Q.Z},gm:function(){return V.Z},fB:function(){return J.Z},rU:function(){return B.Z},Ei:function(){return X.Z}});var n=e(86522),o=e(34795),i=e(76854),a=e(2784),u=e(11690),c=e(26772);function s(){s=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{f({},"")}catch(h){f=function(t,r,e){return t[r]=e}}function p(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof w?e:w).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new P(o||[]),s=d,function(r,e){if(s===y)throw Error("Generator is already running");if(s===g){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=S(n,c);if(o){if(o===m)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===d)throw s=g,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=y;var i=v(a,u,c);if("normal"===i.type){if(s=c.done?g:"suspendedYield",i.arg===m)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=g,c.method="throw",c.arg=i.arg)}})}),l}function v(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=p;var d="suspendedStart",y="executing",g="completed",m={};function w(){}function b(){}function x(){}var L={};f(L,u,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(Z([])));_&&_!==e&&o.call(_,u)&&(L=_);var O=x.prototype=w.prototype=Object.create(L);function k(t){["next","throw","return"].forEach(function(r){f(t,r,function(t){return this._invoke(r,t)})})}function j(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=v(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function S(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,S(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),m;var i=v(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,m):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,m)}function N(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function I(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function Z(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return b.prototype=x,i(O,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:b,configurable:!0}),b.displayName=f(x,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},r.awrap=function(t){return{__await:t}},k(j.prototype),f(j.prototype,c,function(){return this}),r.AsyncIterator=j,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new j(p(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(O),f(O,l,"Generator"),f(O,u,function(){return this}),f(O,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=Z,P.prototype={constructor:P,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),I(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;I(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:Z(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),m}},r}var l=function(t){var r=t.blogCategoryId,e=t.postIds,n=t.withChildren,l=t.limit,f=t.start,h=(0,c.m8)(),p=(0,a.useState)([]),v=(0,i.Z)(p,2),d=v[0],y=v[1],g=(0,a.useState)(null),m=(0,i.Z)(g,2),w=m[0],b=m[1];return(0,a.useEffect)(function(){function t(){return(t=(0,o.Z)(s().mark(function t(){var o,i,a;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.query({query:u.u,variables:{blogCategoryId:r,limit:l,postIds:e,start:f,withChildren:n}});case 3:y((null==(i=t.sent.data)?void 0:i.blogPostsListing.posts)||[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),b(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}))).apply(this,arguments)}!function(){return t.apply(this,arguments)}()},[r,e,n,l,f]),{error:w,posts:d,postsSet:y}},f=e(87333),h=e(32219),p=e(19513);function v(){v=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof w?e:w).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new P(o||[]),s=d,function(r,e){if(s===y)throw Error("Generator is already running");if(s===g){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=S(n,c);if(o){if(o===m)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===d)throw s=g,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=y;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?g:"suspendedYield",i.arg===m)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=g,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var d="suspendedStart",y="executing",g="completed",m={};function w(){}function b(){}function x(){}var L={};l(L,u,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(Z([])));_&&_!==e&&o.call(_,u)&&(L=_);var O=x.prototype=w.prototype=Object.create(L);function k(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function j(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function S(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,S(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),m;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,m):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,m)}function N(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function I(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function Z(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return b.prototype=x,i(O,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},r.awrap=function(t){return{__await:t}},k(j.prototype),l(j.prototype,c,function(){return this}),r.AsyncIterator=j,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new j(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(O),l(O,s,"Generator"),l(O,u,function(){return this}),l(O,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=Z,P.prototype={constructor:P,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),I(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;I(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:Z(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),m}},r}var d={INSUFFICIENT_STOCK:"Estoque insuficiente",NOT_FOUND:"Produto n\xe3o encontrado"},y=function(){var t=(0,c.m8)(),r=(0,f.Np)().publish,e=(0,a.useState)({}),n=(0,i.Z)(e,2),u=n[0],s=n[1],l=(0,a.useState)({}),y=(0,i.Z)(l,2),g=y[0],m=y[1],w=function(t){return r("page:loading",t)};function b(){return(b=(0,o.Z)(v().mark(function r(){var e,n,o,i,a,u,c,l,f,h,y,g,b,x,L=arguments;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=(e=L.length>0&&void 0!==L[0]?L[0]:{}).id,o=e.productId,i=e.sellerId,a=e.extensions,c=void 0===(u=e.quantity)?"1":u,l=e.services,f=e.partnerId,w(!0),r.prev=3,h=null==l?void 0:l.map(String),r.next=7,t.mutate({mutation:p.$$,variables:{extensions:a,id:n,partnerId:f,productId:o,quantity:Number.isNaN(Number(c))?"1":c,sellerId:i,services:h}});case 7:if(null!==(g=r.sent.data.addToCart)){r.next=11;break}throw Error("N\xe3o foi poss\xedvel adicionar ao carrinho");case 11:if(b=g.id,!("OK"!==(x=g.status))){r.next=14;break}throw Error(d[x]);case 14:return s({cartId:b,status:x}),r.abrupt("return",{data:{cartId:b,status:x},error:null});case 18:return r.prev=18,r.t0=r.catch(3),m(r.t0.message),r.abrupt("return",{data:null,error:r.t0.message});case 22:return r.prev=22,w(!1),r.finish(22);case 25:case"end":return r.stop()}},r,null,[[3,18,22,25]])}))).apply(this,arguments)}function x(){return(x=(0,o.Z)(v().mark(function r(e){var n,o;return v().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(w(!0),r.prev=1,e){r.next=4;break}throw Error("Informe o cartId");case 4:return r.next=6,t.query({query:h.pt,variables:{cartId:e}});case 6:return s({cart:o=r.sent.data.cart}),r.abrupt("return",{data:{cart:o},error:null});case 12:return r.prev=12,r.t0=r.catch(1),m(r.t0.message),r.abrupt("return",{data:null,error:r.t0.message});case 16:return r.prev=16,w(!1),r.finish(16);case 19:case"end":return r.stop()}},r,null,[[1,12,16,19]])}))).apply(this,arguments)}return[{addToCart:function(){return b.apply(this,arguments)},getCart:function(t){return x.apply(this,arguments)}},{data:u,error:g}]};function g(){g=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof w?e:w).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new P(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=S(n,c);if(o){if(o===m)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===m)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",m={};function w(){}function b(){}function x(){}var L={};l(L,u,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(Z([])));_&&_!==e&&o.call(_,u)&&(L=_);var O=x.prototype=w.prototype=Object.create(L);function k(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function j(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function S(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,S(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),m;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,m):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,m)}function N(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function I(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function Z(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return b.prototype=x,i(O,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===b||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},r.awrap=function(t){return{__await:t}},k(j.prototype),l(j.prototype,c,function(){return this}),r.AsyncIterator=j,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new j(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},k(O),l(O,s,"Generator"),l(O,u,function(){return this}),l(O,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=Z,P.prototype={constructor:P,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),I(e),m}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;I(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:Z(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),m}},r}var m={INSUFFICIENT_STOCK:"Estoque insuficiente",NOT_FOUND:"Produto n\xe3o encontrado"},w=function(){var t=(0,c.m8)(),r=(0,f.Np)().publish,e=(0,a.useState)({}),n=(0,i.Z)(e,2),u=n[0],s=n[1],l=(0,a.useState)({}),h=(0,i.Z)(l,2),v=h[0],d=h[1],y=function(t){return r("page:loading",t)};function w(){return(w=(0,o.Z)(g().mark(function r(){var e,n,o,i,a,u=arguments;return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},y(!0),r.prev=2,r.next=5,t.mutate({mutation:p.jp,variables:{cartRequest:e}});case 5:if(null!==(o=r.sent.data.addToCart)){r.next=9;break}throw Error("N\xe3o foi poss\xedvel adicionar ao carrinho");case 9:if(i=o.id,!("OK"!==(a=o.status))){r.next=12;break}throw Error(m[a]);case 12:return s({cartId:i,status:a}),r.abrupt("return",{data:{cartId:i,status:a},error:null});case 16:return r.prev=16,r.t0=r.catch(2),d(r.t0.message),r.abrupt("return",{data:null,error:r.t0.message});case 20:return r.prev=20,y(!1),r.finish(20);case 23:case"end":return r.stop()}},r,null,[[2,16,20,23]])}))).apply(this,arguments)}return[{addToCart:function(){return w.apply(this,arguments)}},{data:u,error:v}]},b=e(85942),x=e(7896),L=e(90166),E=e(6422),_=e(70314),O=e.n(_);function k(){k=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new P(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=S(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(Z([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function j(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function S(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,S(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function N(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function I(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function Z(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(j.prototype),l(j.prototype,c,function(){return this}),r.AsyncIterator=j,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new j(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=Z,P.prototype={constructor:P,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),I(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;I(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:Z(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var j=function(t){var r,e=t.userId,n=t.staticProps,u=O()().publicRuntimeConfig,s=(null==u?void 0:null==(r=u.chatSeller)?void 0:r.pollInterval)||6e4,l=(0,c.m8)(),f=(0,a.useState)(null),p=(0,i.Z)(f,2),v=p[0],d=p[1],y=(0,a.useState)(null),g=(0,i.Z)(y,2),m=g[0],w=g[1],b=(0,a.useState)(!1),x=(0,i.Z)(b,2),L=x[0],E=x[1],_=(0,a.useRef)(),j=(0,a.useCallback)((0,o.Z)(k().mark(function t(){var r;return k().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,E(!0),t.next=4,l.watchQuery({fetchPolicy:"network-only",pollInterval:s,query:h.O,variables:{channel:n.channel,customerRefKey:e,organization:n.organization}});case 4:r=t.sent,_.current=r.subscribe({error:function(t){w(t.message),E(!1)},next:function(t){var r=t.data.checkNotifications,e=t.errors;E(!1),(null==e?void 0:e.message)?w(null==e?void 0:e.message):(w(null),d(r))}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),w(t.t0.message);case 11:return t.prev=11,E(!1),t.finish(11);case 14:case"end":return t.stop()}},t,null,[[0,8,11,14]])})),[d,l]);return(0,a.useEffect)(function(){return j(),function(){_.current&&_.current.unsubscribe()}},[]),{error:m,fetch:j,loading:L,result:v}},S=function(){return new Date().toISOString()},N=function(t){var r,e=t.userId,n=t.conversationId,o=t.staticProps,u=O()().publicRuntimeConfig,s=(null==u?void 0:null==(r=u.chatSeller)?void 0:r.pollInterval)||6e4,l=(0,c.m8)(),f=(0,a.useRef)(),p=(0,a.useRef)(S()),v=j({staticProps:o,userId:e}),d=(0,a.useState)(),y=(0,i.Z)(d,2),g=y[0],m=y[1];(0,a.useEffect)(function(){f.current=l.watchQuery({fetchPolicy:"network-only",query:h.eM,variables:{channel:o.channel,customerRefKey:e,organization:o.organization}})},[]);var w=(0,a.useCallback)(function(){f.current.refetch({channel:o.channel,customerRefKey:e,organization:o.organization,startsAt:p.current}).then(function(t){var r,e=(null==t?void 0:null==(r=t.data)?void 0:r.getNotifications)||[];(null==e?void 0:e.find(function(t){return t.conversationId===n}))||!n||(p.current=S()),m({notifications:e})})},[]);return(0,a.useEffect)(function(){var t,r;return(null==(t=v.result)?void 0:t.hasNewMessages)&&(w(),r=setInterval(w,s)),function(){clearInterval(r)}},[v.result]),{loading:v.loading,notificationsStatus:v.result,result:g}},I=function(t){return t?t.map(function(t){return(0,x.Z)({},t,{lastInteractionAt:(0,E.xT)(t.lastInteractionAt)})}):[]},P=function(t,r){var e=r.listConversations.results.map(function(r){var e=t.find(function(t){return r.id===t.conversationId});return e?(0,x.Z)({},r,{lastInteractionAt:e.dateLastMessage,lastMessage:{content:e.resumeLastMessage},unreadFromCount:e.countMessagesNew}):r});return{listConversations:(0,x.Z)({},r.listConversations,{results:e})}},Z=function(t){var r=t.provider,e=t.cacheKey,n=t.dataset,o=r.readQuery((0,x.Z)({},e)),i=P(n,o);return r.writeQuery((0,x.Z)({},e,{data:i})),i},G=function(t){var r,e,n,o,u,s=t.userId,l=t.search,f=t.staticProps,h=(0,c.m8)(),p=N({staticProps:f,userId:s}),v=(0,a.useRef)(),d=(0,a.useState)({items:void 0,meta:void 0}),y=(0,i.Z)(d,2),g=y[0],m=y[1],w=(0,a.useState)(),x=(0,i.Z)(w,2),E=x[0],_=x[1],O=(0,a.useState)(!1),k=(0,i.Z)(O,2),j=k[0],S=k[1],P=null==(r=g.meta)?void 0:null==(e=r.page)?void 0:e.offset,G=(null==(n=g.meta)?void 0:null==(o=n.links)?void 0:o.next)!==null,T=p.loading,F=null==(u=p.result)?void 0:u.notifications;(0,a.useEffect)(function(){if(!j&&!T&&(null==F?void 0:F.length)>0){var t,r,e={query:L.A,variables:{channel:f.channel,fromUser:s,organization:f.organization}},n=Z({cacheKey:e,dataset:F,provider:h});m({items:I(null==n?void 0:null==(t=n.listConversations)?void 0:t.results),meta:null==n?void 0:null==(r=n.listConversations)?void 0:r.meta})}},[j,T,F]);var A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;S(!0),v.current.fetchMore({variables:{channel:f.channel,fromUser:s,offset:t,organization:f.organization,search:l}}).then(function(r){m(function(e){var n,o,i,a;return{items:[].concat((0,b.Z)(0===t?[]:e.items),(0,b.Z)(I(null==r?void 0:null==(n=r.data)?void 0:null==(o=n.listConversations)?void 0:o.results))),meta:null==r?void 0:null==(i=r.data)?void 0:null==(a=i.listConversations)?void 0:a.meta}})}).catch(function(t){_(t)}).then(function(){S(!1)})},C=(0,a.useCallback)(function(){A(P+1)},[P]),M=function(t){t.then(function(t){var r,e,n,o;m({items:I(null==t?void 0:null==(r=t.data)?void 0:null==(e=r.listConversations)?void 0:e.results),meta:null==t?void 0:null==(n=t.data)?void 0:null==(o=n.listConversations)?void 0:o.meta})}).catch(function(t){_(t)}).then(function(){S(!1)})};(0,a.useEffect)(function(){var t=h.watchQuery({query:L.A,variables:{channel:f.channel,fromUser:s,organization:f.organization}});M(t.result()),v.current=t},[]);var R=(0,a.useCallback)(function(){var t;M(null==(t=v.current)?void 0:t.refetch())},[]);return{error:E,fetchMore:A,fetchNextPage:C,hasNextPage:G,items:g.items,loading:j,refetch:R}};function T(){T=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var F=function(t){var r=t.userId,e=t.sellerId,n=t.staticProps,u=(0,c.m8)(),s=(0,a.useState)(),l=(0,i.Z)(s,2),f=l[0],v=l[1],d=(0,a.useState)(),y=(0,i.Z)(d,2),g=y[0],m=y[1],w=null==f?void 0:f.unreadFromCount,b=(0,a.useCallback)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;(null==f?void 0:f.id)&&t&&u.mutate({mutation:p.Zz,variables:{conversationId:f.id,organization:n.organization,userId:r}}).then(function(){v(function(t){return(0,x.Z)({},t,{unreadFromCount:0})})})},[w]);function L(){return(L=(0,o.Z)(T().mark(function t(){var o,i,a,c;return T().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.query({fetchPolicy:"network-only",query:h.AW,variables:{channel:n.channel,fromUser:r,organization:n.organization,toUser:e}});case 3:i=(o=t.sent).data,(a=o.errors)?(v({}),m(a)):v((null==i?void 0:null==(c=i.listConversations)?void 0:c.results[0])||{}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),v({}),m(t.t0);case 13:case"end":return t.stop()}},t,null,[[0,9]])}))).apply(this,arguments)}return(0,a.useEffect)(function(){!f&&r&&e&&function(){L.apply(this,arguments)}()},[r,e]),{conversation:f,error:g,loading:!f,saveConversationAsRead:b}},A=e(5800),C=e(75930),M=e(47821),R=e(89570),z=e(2627),Y=e(10511),q=e(78926),U=e(18230),D=e(4309),K=e(28287),Q=e(28493),V=e(14952),J=e(76971),B=e(20532),X=e(76511),$={content:[{kind:"text",value:"Sempre fa\xe7a transa\xe7\xf5es dentro das plataformas oficiais do Magalu para evitar golpes. "},{kind:"link",label:" Saiba Mais",target:"#"}],fromUser:{avatar:"",fullName:"Magalu",type:"system",username:"Magalu"},id:"PRIVACY",kind:"alert",moderation:{status:"APPROVED",whenAt:null},whenAt:null},H=function(t,r,e){var n=null==r?void 0:r.length;if(!n)return t;var o,i,a,u={pageStartMessageId:r[n-1].id,pageTo:-1};return(0,x.Z)({},t,{links:{next:t.links.next?u:null,previous:t.links.previous&&(a=(null==(i=null==r?void 0:r.find(function(t){var r;return["REJECTED","APPROVED"].includes(null==(r=t.moderation)?void 0:r.status)}))?void 0:i.id)||(null==e?void 0:e.pageStartMessageId))?{pageStartMessageId:a,pageTo:1}:null}})},W=function(t){var r=(null==t?void 0:t.data)||[],e=[(0,x.Z)({},$)].concat((0,b.Z)(r));return(0,x.Z)({},t,{data:e})};function tt(){tt=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var tr=function(t,r){var e=r.fetchMoreResult,n=e.listMessages.results,o=t.listMessages.results.filter(function(t){return!n.find(function(r){return r.id===t.id})}),i=[].concat((0,b.Z)(n),(0,b.Z)(o));return{listMessages:(0,x.Z)({},e.listMessages,{results:i})}},te=function(t){var r,e,n=t.conversationId,u=t.onReceiveMessages,s=t.staticProps,l=t.userId,f=(0,c.m8)(),p=N({conversationId:n,staticProps:s,userId:l}),v=p.result,d=p.notificationsStatus,y=(0,a.useState)(null),g=(0,i.Z)(y,2),m=g[0],w=g[1],L=(0,a.useState)(null),E=(0,i.Z)(L,2),_=E[0],O=E[1],k=(0,a.useState)(!0),j=(0,i.Z)(k,2),S=j[0],I=j[1],P=(0,a.useRef)(),Z=(0,a.useRef)(),G=null==m?void 0:null==(r=m.pagination)?void 0:null==(e=r.links)?void 0:e.previous,T=function(t){var r=t.data.listMessages;if("ChatErrorResponse"===r.__typename)O(r.message),w(null);else{O(null);var e={data:(0,b.Z)(r.results).reverse(),pagination:H(r.meta,r.results,G)};e.pagination.links.next&&e.data.length>0?w(e):w(W(e))}I(!1)},F=(0,a.useCallback)((0,o.Z)(tt().mark(function t(){var r;return tt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,I(!0),t.next=4,f.watchQuery({fetchPolicy:"cache-and-network",query:h.lS,variables:{channel:s.channel,conversationId:n,organization:s.organization,paginationLimit:20,paginationOffset:0}});case 4:r=t.sent,Z.current=r.subscribe({error:function(t){O(t.message),I(!1)},next:T}),P.current=r,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),O(t.t0.message),I(!1);case 13:case"end":return t.stop()}},t,null,[[0,9]])})),[w,f]),A=(0,a.useCallback)(function(){var t,r,e,o;!S&&(null==m?void 0:null==(t=m.pagination)?void 0:null==(r=t.links)?void 0:r.next)&&(I(!0),P.current.fetchMore({updateQuery:function(t,r){var e=r.fetchMoreResult,n=(0,b.Z)(t.listMessages.results),o=(0,b.Z)(e.listMessages.results),i=[].concat(n).concat(o);return{listMessages:(0,x.Z)({},e.listMessages,{results:i})}},variables:{channel:s.channel,conversationId:n,filters:(0,x.Z)({},null==m?void 0:null==(e=m.pagination)?void 0:null==(o=e.links)?void 0:o.next),organization:s.organization,paginationLimit:20,paginationOffset:0}}))},[m,S]),C=(0,a.useCallback)(function(){try{if(!P.current)throw Error('Function call not allowed. Try calling the "fetch" function first.');I(!0),P.current.refetch().then(T)}catch(t){O(t.message),I(!1)}},[]),M=(0,a.useCallback)(function(){I(!0),P.current.fetchMore({updateQuery:tr,variables:{channel:s.channel,conversationId:n,filters:(0,x.Z)({},G),organization:s.organization,paginationLimit:20,paginationOffset:0}}).then(function(t){var r,e;u((null==t?void 0:null==(r=t.data)?void 0:null==(e=r.listMessages)?void 0:e.results)||[]),I(!1)})},[G]);return(0,a.useEffect)(function(){return n?F():(w(W({data:[],pagination:{}})),I(!1)),function(){Z.current&&Z.current.unsubscribe()}},[]),(0,a.useEffect)(function(){var t,r=!!(null==d?void 0:d.hasNewMessages),e=!!(null==v?void 0:null==(t=v.notifications)?void 0:t.find(function(t){return t.conversationId===n}));r&&e&&!S&&M()},[n,v,d]),{error:_,fetchMore:A,loading:S,refetch:C,result:m}};function tn(){tn=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var to=function(t,r){var e,n=function(t,r){return{name:t,value:r}};return[n("productId",t.id),n("productTitle",t.title),n("productImage",t.image),n("productUrl","".concat(null==r?void 0:null==(e=r.config)?void 0:e.desktopSiteDomain,"/").concat(t.url))]},ti=function(t,r){var e=t||{},n=e.errors,o=e.data,i=e.networkError,a=e.message;if(null==n?void 0:n.length)return{allowRetry:!0,message:n.map(function(t){return t.message}).join("\r\n")};if((null==o?void 0:null==(u=o.createMessage)?void 0:u.slug)==="UNPROCESSABLE_ENTITY")return{allowRetry:!1,message:o.createMessage.detail.map(function(t){return t.msg}).join("\r\n")};if(i){var u,c,s=null==(c=i.result)?void 0:c.errors;return s?{allowRetry:!0,message:s.map(function(t){return t.message}).join("\r\n")}:{allowRetry:!0,message:i.message}}return{allowRetry:!1,message:a||r}},ta=function(t){var r,e,n=t.product,u=t.sender,s=t.staticProps,l=t.structure,f=(0,a.useRef)({}),h=(0,c.m8)(),v=(0,a.useState)(!1),d=(0,i.Z)(v,2),y=d[0],g=d[1],m=(0,a.useCallback)((r=(0,o.Z)(tn().mark(function t(r){var e,n,o,i;return tn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.mutate({mutation:p.Et,variables:{request:{channel:s.channel,organization:s.organization,owner:{name:r.description,refKey:r.id},user:{fullName:u.fullname,refKey:u.id,type:"CUSTOMER",username:u.username}}}});case 2:if(o=(n=t.sent).data,!(n.errors||!(null==o?void 0:null==(e=o.createConversation)?void 0:e.id))){t.next=8;break}throw g(!1),Error("Ocorreu um erro ao criar a conversa com o seller.");case 8:return t.abrupt("return",o.createConversation);case 9:case"end":return t.stop()}},t)})),function(t){return r.apply(this,arguments)}),[u]),w=(0,a.useCallback)((e=(0,o.Z)(tn().mark(function t(r,e,o,i){var a,c,v,d,y,w;return tn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o){t.next=3;break}throw Error("The argument /message/ does not have a valid value.");case 3:if(u){t.next=5;break}throw Error("The hook was not initialized correctly. The /sender/ argument does not have a valid value.");case 5:if(g(!0),a={conversationId:e},e){t.next=12;break}return t.next=10,m(r);case 10:c=t.sent,a.conversationId=null==c?void 0:c.id;case 12:if(!(n&&!f.current[null==n?void 0:n.id]&&n.id!==i)){t.next=16;break}return t.next=15,h.mutate({mutation:p.KR,variables:{channel:s.channel,content:"PRODUCT_MESSAGE",conversationId:a.conversationId,customFields:to(n,l),integration:!0,organization:s.organization,userFullname:u.fullname,userId:u.id,userName:u.username}});case 15:f.current[n.id]=!0;case 16:return t.prev=16,t.next=19,h.mutate({mutation:p.KR,variables:{channel:s.channel,content:o.content,conversationId:a.conversationId,organization:s.organization,userFullname:u.fullname,userId:u.id,userName:u.username}});case 19:if((null==(w=t.sent)?void 0:null==(v=w.data)?void 0:null==(d=v.createMessage)?void 0:d.__typename)!=="ChatErrorResponse"){t.next=22;break}throw w;case 22:return t.abrupt("return",(0,x.Z)({},a,{message:null==w?void 0:null==(y=w.data)?void 0:y.createMessage}));case 25:throw t.prev=25,t.t0=t.catch(16),ti(t.t0);case 28:return t.prev=28,g(!1),t.finish(28);case 31:case"end":return t.stop()}},t,null,[[0,,28,31],[16,25]])})),function(t,r,n,o){return e.apply(this,arguments)}),[h,u,m]);return{loading:y,postMessage:w}},tu=e(35824),tc=e(70370);function ts(){ts=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var tl=function(t){var r=t.conversationId,e=t.staticProps,n=(0,c.m8)(),u=(0,a.useState)(null),s=(0,i.Z)(u,2),l=s[0],f=s[1];return(0,a.useEffect)(function(){var t;(t=(0,o.Z)(ts().mark(function t(){var o;return ts().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,n.query({query:h.DC,variables:{channel:e.channel,conversationId:r,organization:e.organization}});case 5:(o=t.sent).data&&o.data.getLastProductFromConversation&&f(o.data.getLastProductFromConversation.productId),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Error fetching last product:",t.t0.message);case 12:case"end":return t.stop()}},t,null,[[2,9]])})),function(){return t.apply(this,arguments)})()},[r]),{lastProduct:l}},tf=e(50032);function th(){th=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var tp={CLICK:"clicks",IMPRESSION:"views"},tv=function(t,r){var e;return null!=t?t:null==r?void 0:null==(e=r.cookies)?void 0:e.customerId},td=function(t){var r=t.structure,e=t.data,n=t.customerId,i=t.adsPath,a=null==e?void 0:e.category,u=(0,c.m8)(),s=function(t){var e;return e=(0,o.Z)(th().mark(function e(o){var c,s,l,f,h;return th().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(o)){e.next=3;break}return console.error("[SendAdsEvents] - Invalid events parameter"),e.abrupt("return",{data:{error:!0,status:"INVALID_EVENTS"}});case 3:if(e.prev=3,0!==o.length){e.next=7;break}return console.error("[SendAdsEvents] - No events to send"),e.abrupt("return",{data:{error:!1,status:"NO_EVENTS"}});case 7:return c=tv(n,r),e.next=10,u.mutate({mutation:p.Fn,variables:{input:o.map(function(r){var e,n,o=r.trackId,u=r.eventDate,s=void 0===u?new Date().toISOString():u,l=r.position,f=void 0===l?0:l;return{customerId:c,eventDate:s,placement:{categoryId:(null==a?void 0:null==(e=a[0])?void 0:e.id)?[null==a?void 0:null==(n=a[0])?void 0:n.id]:null,path:i,position:f+1},trackId:o,type:t}})}});case 10:if(l=(s=e.sent).data.sendAdsEvents,f=s.errors,h=l.status,!(null==f?void 0:f.networkError)){e.next=17;break}return console.error(f.networkError),e.abrupt("return",{data:{error:!0,status:null}});case 17:if(!(null===l||!l.status||l.status>299)){e.next=20;break}return console.error("[SendAdsEvents] - Error sending data"),e.abrupt("return",{data:{error:!0,status:(null==l?void 0:l.status)||null}});case 20:return e.abrupt("return",{data:{error:!1,status:h}});case 23:return e.prev=23,e.t0=e.catch(3),console.error("[SendAdsEvents] - ".concat(e.t0)),e.abrupt("return",{data:{error:!0,status:null}});case 27:case"end":return e.stop()}},e,null,[[3,23]])})),function(t){return e.apply(this,arguments)}};return{sendAdsClickEvents:s(tp.CLICK),sendAdsImpressionEvents:s(tp.IMPRESSION)}};function ty(){ty=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var tg=function(){var t,r=(0,c.m8)();return{sendAdsFillrate:(t=(0,o.Z)(ty().mark(function t(e){var n,o,i,a;return ty().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Array.isArray(e)){t.next=4;break}return console.error("[SendAdsFillrateEvents] - Invalid items parameter"),t.abrupt("return",{data:{error:!0,status:"INVALID_ITEMS"}});case 4:if(0!==e.length){t.next=7;break}return console.error("[SendAdsFillrateEvents] - No items to send"),t.abrupt("return",{data:{error:!1,status:"NO_ITEMS"}});case 7:return t.next=9,r.mutate({mutation:p.RG,variables:{input:{items:e}}});case 9:if(o=(n=t.sent).data.sendAdsFillrateEvents,i=n.errors,a=o.status,!(null==i?void 0:i.networkError)){t.next=16;break}return console.error(i.networkError),t.abrupt("return",{data:{error:!0,status:null}});case 16:if(!(null===o||!o.status||o.status>299)){t.next=19;break}return console.error("[SendAdsFillrateEvents] - Error sending data"),t.abrupt("return",{data:{error:!0,status:(null==o?void 0:o.status)||null}});case 19:return t.abrupt("return",{data:{error:!1,status:a}});case 22:return t.prev=22,t.t0=t.catch(0),console.error("[SendAdsFillrateEvents] - ".concat(t.t0)),t.abrupt("return",{data:{error:!0,status:null}});case 26:case"end":return t.stop()}},t,null,[[0,22]])})),function(r){return t.apply(this,arguments)})}};function tm(){tm=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var tw=function(t){var r=t.createdAtGreater,e=t.createdAtLesser,n=t.customerId,u=t.serviceSlug,s=(0,c.m8)(),l=(0,a.useState)({products:[]}),f=(0,i.Z)(l,2),p=f[0],v=f[1],d=(0,a.useState)(!0),y=(0,i.Z)(d,2),g=y[0],m=y[1],w=(0,a.useState)(null),b=(0,i.Z)(w,2),L=b[0],E=b[1];return(0,a.useEffect)(function(){var t;(t=(0,o.Z)(tm().mark(function t(){var o;return tm().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,s.query({query:h.gW,variables:{request:{createdAtGreater:r,createdAtLesser:e,customerUUID:n,serviceSlug:u}}});case 5:(o=t.sent).data&&o.data.eligibleProducts&&v((0,x.Z)({},o.data.eligibleProducts,{createdAtGreater:r,createdAtLesser:e,customerUUID:n})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),E(t.t0);case 12:m(!1);case 13:case"end":return t.stop()}},t,null,[[2,9]])})),function(){return t.apply(this,arguments)})()},[r,e,u]),{eligibleProducts:p,error:L,loading:g}};function tb(){tb=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var tx=function(t){var r=t.customerId,e=t.sellerId,n=(0,c.m8)(),u=(0,a.useState)(null),s=(0,i.Z)(u,2),l=s[0],f=s[1],p=(0,a.useState)(null),v=(0,i.Z)(p,2),d=v[0],y=v[1],g=(0,a.useState)(!0),m=(0,i.Z)(g,2),w=m[0],b=m[1],x=(0,a.useRef)(),L=(0,a.useRef)(),E=function(t){var r=t.data.isCustomerFollowingSeller;"FollowerErrorResponse"!==r.__typename?(f(r),y(null)):(f(null),y(r.message)),b(!1)},_=(0,a.useCallback)((0,o.Z)(tb().mark(function t(){var o;return tb().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,b(!0),t.next=4,n.watchQuery({fetchPolicy:"network-only",query:h.ds,variables:{customerId:r,sellerId:e}});case 4:o=t.sent,L.current=o.subscribe({error:function(t){y(t.message),b(!1)},next:E}),x.current=o,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),y(t.t0.message),b(!1);case 13:case"end":return t.stop()}},t,null,[[0,9]])})),[n]);return(0,a.useEffect)(function(){_()},[]),{error:d,loading:w,resultCustomerFollower:l}};function tL(){tL=function(){return r};var t,r={},e=Object.prototype,o=e.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{l({},"")}catch(f){l=function(t,r,e){return t[r]=e}}function h(r,e,n,o){var a,u,c,s,l=Object.create((e&&e.prototype instanceof m?e:m).prototype);return i(l,"_invoke",{value:(a=r,u=n,c=new I(o||[]),s=v,function(r,e){if(s===d)throw Error("Generator is already running");if(s===y){if("throw"===r)throw e;return{value:t,done:!0}}for(c.method=r,c.arg=e;;){var n=c.delegate;if(n){var o=j(n,c);if(o){if(o===g)continue;return o}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===v)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=d;var i=p(a,u,c);if("normal"===i.type){if(s=c.done?y:"suspendedYield",i.arg===g)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(s=y,c.method="throw",c.arg=i.arg)}})}),l}function p(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}r.wrap=h;var v="suspendedStart",d="executing",y="completed",g={};function m(){}function w(){}function b(){}var x={};l(x,u,function(){return this});var L=Object.getPrototypeOf,E=L&&L(L(P([])));E&&E!==e&&o.call(E,u)&&(x=E);var _=b.prototype=m.prototype=Object.create(x);function O(t){["next","throw","return"].forEach(function(r){l(t,r,function(t){return this._invoke(r,t)})})}function k(t,r){var e;i(this,"_invoke",{value:function(i,a){function u(){return new r(function(e,u){!function e(i,a,u,c){var s=p(t[i],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,n.Z)(f)&&o.call(f,"__await")?r.resolve(f.__await).then(function(t){e("next",t,u,c)},function(t){e("throw",t,u,c)}):r.resolve(f).then(function(t){l.value=t,u(l)},function(t){return e("throw",t,u,c)})}c(s.arg)}(i,a,e,u)})}return e=e?e.then(u,u):u()}})}function j(r,e){var n=e.method,o=r.iterator[n];if(o===t)return e.delegate=null,"throw"===n&&r.iterator.return&&(e.method="return",e.arg=t,j(r,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,r.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[r.resultName]=a.value,e.next=r.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,g)}function S(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function N(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(r){if(r||""===r){var e=r[u];if(e)return e.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var i=-1,a=function e(){for(;++i<r.length;)if(o.call(r,i))return e.value=r[i],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw TypeError((0,n.Z)(r)+" is not iterable")}return w.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=l(b,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===w||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},O(k.prototype),l(k.prototype,c,function(){return this}),r.AsyncIterator=k,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new k(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},O(_),l(_,s,"Generator"),l(_,u,function(){return this}),l(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=P,I.prototype={constructor:I,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!r)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(n,o){return u.type="throw",u.arg=r,e.next=n,o&&(e.method="next",e.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),g},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),N(e),g}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;N(e)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:P(r),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=t),g}},r}var tE=function(){var t,r=(0,c.m8)(),e=(0,a.useState)(!0),n=(0,i.Z)(e,2),u=n[0],s=n[1];return{fetchSetFollower:(t=(0,o.Z)(tL().mark(function t(e){var n,o,i,a,u,c,l,f,h,v;return tL().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.customerId,o=e.sellerId,i=e.followSeller,t.prev=1,s(!0),t.next=5,r.mutate({mutation:p.$z,variables:{customerId:n,followSeller:i,sellerId:o}});case 5:return u=t.sent.data.setFollowStatus,t.abrupt("return",(0,x.Z)({},u,{error:null}));case 10:return t.prev=10,t.t0=t.catch(1),f=void 0===(l=(c=null==t.t0?void 0:t.t0.message).detail)?null:l,v=void 0===(h=c.message)?"[ERROR] ChatSetFollowStatusMutation is not working":h,t.abrupt("return",{data:{detail:f},error:v});case 14:return t.prev=14,s(!1),t.finish(14);case 17:case"end":return t.stop()}},t,null,[[1,10,14,17]])})),function(r){return t.apply(this,arguments)}),loading:u}}}}]);
//# sourceMappingURL=3267-e5ebe18c35bdc0eb.js.map