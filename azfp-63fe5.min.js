"use strict";const sessionCookieName="_azfp_sc";async function getMediaDevices(){if("mediaDevices"in navigator){return(await navigator.mediaDevices.enumerateDevices()).length}return{}}async function sha256(e){try{const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),o=Array.from(new Uint8Array(n));return o.map((e=>e.toString(16).padStart(2,"0"))).join("")}catch(e){return}}function generateCanvasFingerprint(){let e=document.createElement("canvas");const t=e.getContext("2d");t.font="30px Arial",t.fillText("Azion",10,40);const n=e.toDataURL("image/png");return btoa(n)}function getAudioSupport(){const e=["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/wav","audio/webm"].filter((e=>""!==(new Audio).canPlayType(e)));let t={},n={};if("AudioContext"in window||"webkitAudioContext"in window){const e=new OfflineAudioContext(2,1764e3,44100);t.sampleRate=e.sampleRate,t.state=e.state;const o=new AnalyserNode(e);n.channelCount=o.channelCount,n.channelCountMode=o.channelCountMode,n.channelInterpretation=o.channelInterpretation,n.fftSize=o.fftSize,n.frequencyBinCount=o.frequencyBinCount,n.maxDecibels=o.maxDecibels,n.minDecibels=o.minDecibels,n.numberOfInputs=o.numberOfInputs,n.numberOfOutputs=o.numberOfOutputs,n.sampleRate=o.sampleRate,n.smoothingTimeConstant=o.smoothingTimeConstant}return{context:t,dataAccess:"mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices,formats:e,frequencyAnalyzer:n}}function getNavigatorData(){let e={};return navigator&&(e.appVersion=navigator.appVersion,e.buildID=navigator.buildID,e.cookieEnabled=navigator.cookieEnabled,e.deviceMemory=navigator.deviceMemory,e.doNotTrack=navigator.doNotTrack,e.hardwareConcurrency=navigator.hardwareConcurrency,e.language=navigator.language,e.mimeTypes=navigator.mimeTypes,e.oscpu=navigator.oscpu,e.platform=navigator.platform,e.plugins=navigator.plugins,e.product=navigator.product,e.productSub=navigator.productSub,e.userAgent=navigator.userAgent,e.vendor=navigator.vendor,e.vendorSub=navigator.vendorSub,navigator.connection&&(e.connection={},e.connection.effectiveType=navigator.connection.effectiveType)),e}function getScreenData(){let e={};return screen&&(e.colorDepth=screen.colorDepth,e.avail=screen.availHeight+screen.availWidth,e.size=screen.height+screen.width),e}function getSessionCookie(){const e=decodeURIComponent(document.cookie).split(";");for(let t=0;t<e.length;t++){let n=e[t].trim();if(0===n.indexOf("_azfp_sc"))return n.substring("_azfp_sc".length,n.length)}return null}function getVideoSupport(){const e=["video/mp4","video/ogg","video/webm"],t=document.createElement("video");return e.filter((e=>""!==t.canPlayType(e))),{formats:e}}function getWebGLData(){let e={};try{const t=document.createElement("canvas");let n=t.getContext("webgl")||t.getContext("experimental-webgl");e.vendor=n.getParameter(n.VENDOR),e.renderer=n.getParameter(n.RENDERER),e.parameters={};const o=n.getSupportedExtensions().length;for(let t=0;t<o;t++){const o=n.getSupportedExtensions()[t];e.parameters[o]=n.getExtension(o)}}catch(e){}return e}function setSessionCookie(e){document.cookie=`_azfp_sc=${e}; path=/`}!async function(){try{if(getSessionCookie())return;let e={};e.audio=getAudioSupport(),e.canvas=generateCanvasFingerprint(),e.hasAccelerometer="ondevicemotion"in window,e.hasGyroscope="ondeviceorientation"in window,e.hasIndexedDB="indexedDB"in window,e.hasLocalStorage="undefined"!=typeof localStorage,e.hasProximitySensor="ondeviceproximity"in window,e.hasSessionStorage="undefined"!=typeof sessionStorage,e.locationBar=window.locationbar.visible,e.mediaDevices=await getMediaDevices(),e.menuBar=window.menubar.visible,e.navigator=getNavigatorData(),e.personalBar=window.personalbar.visible,e.screen=getScreenData(),e.statusBar=window.statusbar.visible,e.timezoneOffset=(new Date).getTimezoneOffset(),e.toolBar=window.toolbar.visible,e.video=getVideoSupport(),e.webGL=getWebGLData();let t=await sha256(JSON.stringify(e));t&&setSessionCookie(t)}catch(e){}}();